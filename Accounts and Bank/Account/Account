package br.com.caueduarte.bank.account;

public abstract class Account implements Comparable<Account>{
	
	protected double balance;
	public String name;
	protected int number;
	
	
	
	@Override //Comparing using the account number
	public int compareTo(Account anotherAccount) {
		if (this.number < anotherAccount.number){
			return -1;
		}
	    if (this.number > anotherAccount.number){
			return 1;
		}
		return 0;
	}

	public int getNumber() {
		return this.number;
	}
	
	public void setNumber(int accountNumber){
		this.number = accountNumber;
	}
	
	public String getName(){
		return this.name;
	}

	public double getBalance() {
		return this.balance;
	}
	
	public boolean equalsTo(Account c){
		if (this.balance == c.balance &&
				this.name == c.name){
			return true;
		} else {
			return false;
		}
	}

	public void deposit(double ammount) {
		if (ammount < 0){
			throw new InvalidValueException(ammount);
		} else {
			this.balance += ammount;
		}
	}

	public void withdraw(double ammount) {
		try {
			if (this.balance < ammount){
				throw new InsuficientBalanceException("Insuficient Balance.");
			} else {
				this.balance -= ammount;
			}
		} catch (InsuficientBalanceException e){
			System.out.println(e.getMessage());
		}	
	}

	abstract void applyRate(double rate);

}
